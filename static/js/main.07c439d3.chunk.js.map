{"version":3,"sources":["images/logo.svg","components/Header.js","context/CurrentUserContext.js","components/main/Card.js","components/main/CardsContainer.js","components/main/Footer.js","components/main/ImagePopup.js","components/main/PopupWithForm.js","components/main/EditProfilePopup.js","components/main/EditAvatarPopup.js","components/main/AddPlacePopup.js","utils/аpi.js","components/main/Main.js","components/ProtectRoute.js","components/login/Login.js","components/register/Register.js","images/Union.svg","images/icon.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","id","curCard","owner","_id","isLiked","likes","some","i","link","name","onClick","onCardClick","type","onCardLike","length","style","display","onCardDelete","CardsContainer","react","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","card","Footer","ImagePopup","cardImageState","onClose","PopupWithForm","isOpen","title","noValidate","onSubmit","btnText","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","evt","preventDefault","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","inputRef","useRef","current","ref","AddPlacePopup","place","setPlace","setLink","reset","mainApi","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","avatarLink","method","body","JSON","stringify","data","console","log","token","Authorization","authorization","Main","setCurrentUser","isEditProfilePopupOpen","setProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","email","all","getInitialCards","getName","userInfo","catch","err","message","Provider","href","onLogOut","dislikeCard","newCard","setNewLikesCallback","likeCard","newCards","c","deleteCard","filter","patchName","patchAvatar","postCard","ProtectedRoute","loggedIn","component","to","Login","setEmail","password","setPassword","onLogin","Register","onRegistor","InfoTooltip","failed","failIcon","successIcon","auth","App","history","useHistory","setLoggedIn","openPopup","infoPopup","setInfoPopup","closeInfoTooltip","jwt","localStorage","getItem","checkToken","push","exact","path","removeItem","login","setItem","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07c439d3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from \"../images/logo.svg\";\r\nfunction Header(props) {\r\n  return (\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"лого\" />\r\n        <div className=\"header__rendered-element\">{props.children}</div>\r\n      </header>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = currentUser.id === props.curCard.owner._id;\r\n  const isLiked = props.curCard.likes.some((i) => i._id === currentUser.id);\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.curCard);\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.curCard);\r\n  }\r\n  return (\r\n    <li className=\"elements__card\">\r\n      <img\r\n        className=\"elements__image\"\r\n        src={props.curCard.link}\r\n        alt={props.curCard.name}\r\n        onClick={() => {\r\n          props.onCardClick(props.curCard);\r\n        }}\r\n      />\r\n      <h2 className=\"elements__title\">{props.curCard.name}</h2>\r\n      <div className=\"elements__like-container\">\r\n        <button\r\n          className={`elements__like-button ${\r\n            isLiked && \"elements__like-button_liked\"\r\n          }`}\r\n          type=\"button\"\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <span className=\"elements__like-number\">\r\n          {props.curCard.likes.length}\r\n        </span>\r\n      </div>\r\n      <button\r\n        className=\"elements__trash-button\"\r\n        type=\"button\"\r\n        style={{ display: isOwn ? \"block\" : \"none\" }}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n    </li>\r\n  );\r\n}\r\nexport default Card;\r\n","import react from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\nfunction CardsContainer(props) {\r\n  const currentUser = react.useContext(CurrentUserContext);\r\n  function renderCards() {\r\n    return props.cards.map((card) => {\r\n      return (\r\n        <Card\r\n          curCard={card}\r\n          onCardClick={props.onCardClick}\r\n          onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}\r\n          key={card._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"аватар\"\r\n          />\r\n          <div\r\n            className=\"profile__avatar-redaction\"\r\n            onClick={props.onEditAvatar}\r\n          ></div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__user-name\">{currentUser.name}</h1>\r\n          <button\r\n            className=\"profile__redaction-button\"\r\n            type=\"button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__user-caption\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__button\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">{renderCards()}</ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\nexport default CardsContainer;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_image ${\r\n        props.cardImageState.link ? \"popup_opened\" : \"\"\r\n      }`}\r\n      id=\"image\"\r\n    >\r\n      <div className=\"popup__image-container\">\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.cardImageState.link}\r\n          alt={props.cardImageState.name}\r\n        />\r\n        <h2 className=\"popup__caption\">{props.cardImageState.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button popup__exit-button_type_image\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}\r\n      id={props.name}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={`popup-form-${props.name}`}\r\n          noValidate\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__save-button\">\r\n            {props.btnText}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"popup__exit-button\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  function onNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n  function onDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"redaction\"\r\n      title=\"Редактировать профиль\"\r\n      btnText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={\r\n        <>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"user-name\"\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            onChange={onNameChange}\r\n            value={name || \"\"}\r\n          />\r\n          <span className=\"popup__error\" id=\"user-name-error\"></span>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"user-caption\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            name=\"caption\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={onDescriptionChange}\r\n            value={description || \"\"}\r\n          />\r\n          <span className=\"popup__error\" id=\"user-caption-error\"></span>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateUser }) {\r\n  const inputRef = React.useRef();\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser(inputRef.current.value);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      btnText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      children={\r\n        <>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"linkAvatar\"\r\n            required\r\n            ref={inputRef}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\"></span>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [place, setPlace] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  function onPlaceChange(evt) {\r\n    setPlace(evt.target.value);\r\n  }\r\n  function onLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: place,\r\n      link,\r\n    });\r\n    evt.target.reset()\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      btnText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"place\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            name=\"place\"\r\n            required\r\n            minLength=\"1\"\r\n            maxLength=\"30\"\r\n            onChange={onPlaceChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"place-error\"></span>\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"link\"\r\n            required\r\n            onChange={onLinkChange}\r\n          />\r\n          <span className=\"popup__error\" id=\"link-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","\r\nclass api {\r\n    constructor(options) {\r\n      this._url = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n  \r\n    _getResponseData(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  \r\n    getInitialCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    getName() {\r\n      return fetch(`${this._url}/users/me`, {\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    patchAvatar(avatarLink) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar: avatarLink,\r\n        }),\r\n      }).then(this._getResponseData);\r\n    }\r\n    patchName(data) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    postCard(data) {\r\n      return fetch(`${this._url}/cards`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    deleteCard(id) {\r\n      return fetch(`${this._url}/cards/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n    likeCard(id) {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    dislikeCard(id) {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  \r\n    register(data) {\r\n      console.log(data);\r\n      return fetch(`${this._url}/signup`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    login(data) {\r\n      return fetch(`${this._url}/signin`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    checkToken(token) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n  const mainApi = new api({\r\n    baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16\",\r\n    headers: {\r\n      authorization: \"8e87a5dc-6c3c-4389-85a0-676a9403f4b5\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  export default mainApi\r\n  ","import React from \"react\";\nimport CardsContainer from \"./CardsContainer.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Header from \"../Header\";\nimport { CurrentUserContext } from \"../../context/CurrentUserContext.js\";\nimport mainApi from \"../../utils/аpi.js\";\nfunction Main(props) {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  console.log(props.email);\n  React.useEffect(() => {\n    Promise.all([mainApi.getInitialCards(), mainApi.getName()]).then(\n      ([cards, userInfo]) => {\n        setCards(cards);\n        setCurrentUser({\n          name: userInfo.name,\n          about: userInfo.about,\n          avatar: userInfo.avatar,\n          id: userInfo._id,\n        });\n      }\n    )\n    .catch(err=>{console.log(err.message)})\n  }, []);\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser.id);\n    if (!isLiked) {\n      mainApi.likeCard(card._id).then((newCard) => setNewLikesCallback(newCard));\n    } else {\n      mainApi.dislikeCard(card._id).then((newCard) => setNewLikesCallback(newCard));\n    }\n    const setNewLikesCallback = (newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    };\n  }\n  function handleCardDelete(card) {\n    mainApi.deleteCard(card._id).then((res) => {\n      const newCards = cards.filter((c) => {\n        return card._id !== c._id;\n      });\n      setCards(newCards);\n    });\n  }\n  function handleEditAvatarClick() {\n    setAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n  function handleEditProfileClick() {\n    setProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n  function handleCardClick(card) {\n    setSelectedCard({\n      link: card.link,\n      name: card.name,\n    });\n  }\n  function closeAllPopups() {\n    setProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setAvatarPopupOpen(false);\n    setSelectedCard({});\n  }\n  function handleUpdateUser(data) {\n    mainApi.patchName(data).then((res) => {\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n        avatar: res.avatar,\n        id: res._id,\n      });\n      closeAllPopups();\n    });\n  }\n  function handleUpdateAvatar(data) {\n    mainApi.patchAvatar(data).then((res) => {\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n        avatar: res.avatar,\n        id: res._id,\n      });\n      closeAllPopups();\n    });\n  }\n  function handleAddPlaceSubmit(data) {\n    mainApi.postCard(data).then((res) => {\n      setCards([res, ...cards]);\n      closeAllPopups();\n    });\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header>\n            <p className=\"header__caption header__caption_type_email\">\n              {props.email}\n            </p>\n            <a\n              className=\"header__caption header__caption_type_logout\"\n              href=\"/sign-in\"\n              onClick={props.onLogOut}\n            >\n              Выйти\n            </a>\n      </Header>\n      <CardsContainer\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        onClose={closeAllPopups}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      ></CardsContainer>\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <ImagePopup onClose={closeAllPopups} cardImageState={selectedCard} />\n      <PopupWithForm\n        name=\"confirm\"\n        title=\"Вы уверены?\"\n        btnText=\"да\"\n        isOpen={false}\n        onClose={closeAllPopups}\n        children={null}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <Footer />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute(props) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? (\r\n          <props.component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/sign-in\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n}\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState({\r\n      value: \"\"\r\n  });\r\n  const [password, setPassword] = React.useState({\r\n      value: \"\"\r\n  });\r\n  function onSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onLogin({ email: email.value, password: password.value });\r\n  }\r\n  return (\r\n    <section className=\"sing\">\r\n      <h1 className=\"sing__title\">Вход</h1>\r\n      <form className=\"sing__form\" onSubmit={onSubmit}>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"email\"\r\n          required\r\n          placeholder=\"Email\"\r\n          value={email.value}\r\n          onChange={(evt) => {\r\n            setEmail({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"password\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={password.value}\r\n          onChange={(evt) => {\r\n            setPassword({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <button className=\"sing__button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Login;\r\n","import React from \"react\";\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState({\r\n    value: \"\"\r\n});\r\n  const [password, setPassword] = React.useState({\r\n    value: \"\"\r\n});\r\n  function onSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onRegistor({ email: email.value, password: password.value });\r\n  }\r\n  return (\r\n    <section className=\"sing\">\r\n      <h1 className=\"sing__title\">Регистрация</h1>\r\n      <form className=\"sing__form\" onSubmit={onSubmit}>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"email\"\r\n          required\r\n          placeholder=\"Email\"\r\n          value={email.value}\r\n          onChange={(evt) => {\r\n            setEmail({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <input\r\n          className=\"sing__input\"\r\n          type=\"password\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={password.value}\r\n          onChange={(evt) => {\r\n            setPassword({value: evt.target.value});\r\n          }}\r\n        ></input>\r\n        <button className=\"sing__button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <a className=\"sing__caption\" href=\"/sign-in\">\r\n          Уже зарегистрированы? Войти\r\n        </a>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/Union.7c6a020b.svg\";","export default __webpack_public_path__ + \"static/media/icon.1b6082f8.svg\";","import failIcon from \"../images/Union.svg\";\r\nimport successIcon from \"../images/icon.svg\";\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <section className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container popup__container_type_failed-sign-in\">\r\n        <img\r\n          className=\"popup__icon\"\r\n          src={props.failed ? failIcon : successIcon}\r\n          alt=\"результат регистрации\"\r\n        />\r\n        <h1 className=\"popup__title\">\r\n          {props.failed\r\n            ? \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n            : \"Вы успешно зарегистрировались!\"}\r\n        </h1>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__exit-button popup__exit-button_type_failed-sign-in\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default InfoTooltip;\r\n","\r\nclass Auth {\r\n    constructor(options) {\r\n      this._url = options.baseUrl;\r\n      this._headers = options.headers;\r\n    }\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    register(data) {\r\n      console.log(data);\r\n      return fetch(`${this._url}/signup`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    login(data) {\r\n      return fetch(`${this._url}/signin`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(data),\r\n      }).then(this._getResponseData);\r\n    }\r\n    checkToken(token) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n\r\n  const auth = new Auth({\r\n    baseUrl: \"https://auth.nomoreparties.co\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  export default auth","import React from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./main/Main\";\r\nimport ProtectedRoute from \"./ProtectRoute\";\r\nimport Login from \"./login/Login\";\r\nimport Register from \"./register/Register\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\";\r\nfunction App(props) {\r\n  const history = useHistory();\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [infoPopup, setInfoPopup] = React.useState({\r\n    openPopup: false,\r\n    failed: true,\r\n  });\r\n  const [email, setEmail] = React.useState(\"\");\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if(jwt){\r\n      auth\r\n      .checkToken(jwt)\r\n      .then((res) => {\r\n        setLoggedIn(true);\r\n        setEmail(res.email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  function onRegistor(data) {\r\n    auth\r\n      .register(data)\r\n      .then((res) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: false,\r\n        });\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch((err) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: true,\r\n        });\r\n        console.log(err.message);\r\n      });\r\n  }\r\n  function onLogin(data) {\r\n    auth\r\n      .login(data)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setLoggedIn(true);\r\n        setEmail(data.email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        setInfoPopup({\r\n          openPopup: true,\r\n          failed: true,\r\n        });\r\n        console.log(err.message);\r\n      });\r\n  }\r\n  function logOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem(\"jwt\");\r\n  }\r\n  function closeInfoTooltip() {\r\n    setInfoPopup({\r\n      openPopup: false,\r\n      failed: infoPopup.failed,\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <ProtectedRoute\r\n          exact\r\n          path=\"/\"\r\n          component={Main}\r\n          loggedIn={loggedIn}\r\n          email={email}\r\n          onLogOut={logOut}\r\n        />\r\n        <Route exact path=\"/sign-in\">\r\n        <Header>\r\n              <a className=\"header__caption\" href=\"/sign-up\">\r\n                Регистрация\r\n              </a>\r\n          </Header>\r\n          <Login onLogin={onLogin} />\r\n          <InfoTooltip\r\n            isOpen={infoPopup.openPopup}\r\n            failed={infoPopup.failed}\r\n            onClose={closeInfoTooltip}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/sign-up\">\r\n          <Header>\r\n              <a className=\"header__caption\" href=\"/sign-in\">\r\n                Войти\r\n              </a>\r\n          </Header>\r\n            \r\n          <Register onRegistor={onRegistor} />\r\n          <InfoTooltip\r\n            isOpen={infoPopup.openPopup}\r\n            failed={infoPopup.failed}\r\n            onClose={closeInfoTooltip}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}